<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-QN5S48G7PJ"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-QN5S48G7PJ');
        }
      </script><meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="robots" content="index, follow"><meta name="author" content="Koustubha Naik">
<meta name="description" content="Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.">


<link rel="canonical" href="http://localhost:1313/projects/proxmox-thinkpad-homelab/">


<meta property="og:title" content="Proxmox VE Homelab Setup on Lenovo ThinkPad">
<meta property="og:type" content="website">
<meta property="og:description" content="Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.">
<meta property="og:url" content="http://localhost:1313/projects/proxmox-thinkpad-homelab/">
<meta property="og:image" content="http://localhost:1313/posts/Projects/Projects_1/proxmox-thumb.jpg">
<meta property="og:author" content="Koustubha Naik">
<meta property="og:site_name" content="Z3KAIx0">
<meta property="og:locale" content="en_US">
<meta property="og:published_time" content="2025-07-06 09:31:03 &#43;0530 IST">


<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@z3kaix0">
<meta name="twitter:title" content="Proxmox VE Homelab Setup on Lenovo ThinkPad">
<meta name="twitter:description" content="Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.">
<meta name="twitter:image" content="http://localhost:1313/posts/Projects/Projects_1/proxmox-thumb.jpg">


<link rel="author" type="text/plain" href="/humans.txt">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">


<meta name="theme-color" content="#4a4f5b">
<meta name="msapplication-TileColor" content="#4a4f5b">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4a4f5b">


<meta name="language" content="English">
<link rel="alternate" hreflang="en" href="https://koustubha.com/">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Z3KAIx0",
  "url": "https://koustubha.com",
  "description": "Cybersecurity, hacking, and personal notes by Z3KAIx0 â€“ learning, breaking things (ethically), and infosec geekery.",
  "author": {
    "@type": "Person",
    "name": "Koustubha",
    "url": "https://github.com/Koustubha-naik",
    "sameAs": [
      "https://twitter.com/z3kaix0",
      "https://linkedin.com/in/koustubha-naik/",
      "https://medium.com/@z3kaix0.offsec"
    ]
  }
}
</script>


  <meta itemprop="name" content="Proxmox VE Homelab Setup on Lenovo ThinkPad">
  <meta itemprop="description" content="Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.">
  <meta itemprop="datePublished" content="2025-07-06T09:31:03+05:30">
  <meta itemprop="dateModified" content="2025-07-06T09:31:03+05:30">
  <meta itemprop="wordCount" content="1606">
  <meta itemprop="keywords" content="Proxmox,Homelab,Virtualization,Thinkpad,Cybersecurity"><meta property="og:url" content="http://localhost:1313/projects/proxmox-thinkpad-homelab/">
  <meta property="og:site_name" content="Z3KAIx0">
  <meta property="og:title" content="Proxmox VE Homelab Setup on Lenovo ThinkPad">
  <meta property="og:description" content="Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2025-07-06T09:31:03+05:30">
    <meta property="article:modified_time" content="2025-07-06T09:31:03+05:30">
    <meta property="article:tag" content="Proxmox">
    <meta property="article:tag" content="Homelab">
    <meta property="article:tag" content="Virtualization">
    <meta property="article:tag" content="Thinkpad">
    <meta property="article:tag" content="Cybersecurity">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Proxmox VE Homelab Setup on Lenovo ThinkPad">
  <meta name="twitter:description" content="Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.">

    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "\"Proxmox VE Homelab Setup on Lenovo ThinkPad\"",
      "name": "\"Proxmox VE Homelab Setup on Lenovo ThinkPad\"",
      "description": "\"Step-by-step guide on how I turned my ThinkPad T480 into a self-hosted Proxmox lab for virtualization, learning, and cybersecurity practice.\"",
      "keywords": ["proxmox", "homelab", "virtualization", "thinkpad", "cybersecurity"
      ],
      "articleBody": "\" Why I Chose the ThinkPad T480 So, why the T480 out of all laptops?\\nğŸ›¡ï¸ Built like a tank â€“ It\\u0026rsquo;s a business-grade machine that can handle long runtimes and daily abuse.\\nğŸ§  Decent power â€“ The i7-8650U isnâ€™t a beast, but itâ€™s efficient and powerful enough for multiple VMs and containers.\\nğŸ’¸ Affordable \\u0026amp; available â€“ You can grab one for cheap these days on OLX or refurb sites.\\nğŸ”§ Upgradeable â€“ Dual RAM slots (mineâ€™s upgraded to 32 GB), replaceable battery, easy SSD swap.\\nğŸ§Š Runs cool with proper cooling â€“ Especially with an external fan underneath.\\nBasically, it hits the sweet spot between power, price, and portability â€” which made it perfect for a budget-friendly homelab project. Alsoâ€¦ I already had it lying around ğŸ˜…\\nThis is a full step-by-step breakdown of how I turned my ThinkPad T480 into a powerful, self-hosted Proxmox lab â€” built for running virtual machines, experimenting with containers, testing tools, and learning hands-on. I didnâ€™t use any flashy hardware or expensive server parts â€” just a solid old laptop, some patience, and a lot of curiosity. Along the way, I dealt with storage quirks, backup setups, and performance tuning to make sure everything ran smoothly. I hit a few bumps, broke a few things, fixed them, and ended up with a clean, stable homelab that I use daily. Here\\u0026rsquo;s how it all went down ğŸ‘‡\\nğŸ’» PC Specs â€” Lenovo ThinkPad T480\\nMy ThinkPad T480 lab setup â€” running Proxmox, connected to Ethernet, with an external SSD\\rThe entire setup runs on my trusty Lenovo ThinkPad T480, a no-nonsense business laptop that has become a favorite in the homelab community. It\\u0026rsquo;s compact, reliable, and surprisingly powerful for its age.\\nUnder the hood, it packs an Core i7-8650U processor, which provides solid multi-core performance â€” more than enough for running multiple VMs and containers without major slowdowns. Iâ€™ve upgraded the RAM to a generous 32 GB, giving Proxmox the breathing room it needs to handle several virtual environments simultaneously.\\nFor storage, Iâ€™m running a dual-drive setup:\\nA 256 GB internal SSD for Proxmox and core system files (will upgrade it for later) A 256 GB external SSD connected via USB 3.0, which I use for VM storage, ISO templates, and backups Despite being a laptop, this combo gives me excellent flexibility and speed. No fancy RAID or NVMe setup here â€” just well-optimized basics that get the job done.\\nI kept my ThinkPad plugged in at all times and made sure it was slightly propped up to help airflow. But I didnâ€™t stop there â€” I also connected an external laptop cooling fan underneath. Trust me, once you start spinning up multiple VMs or running Docker containers, things heat up fast. A little cooling goes a long way in avoiding thermal throttling right in the middle of your hacking experiments or system updates.\\nâœ… Proxmox VE Installation Download Proxmox ISO (used torrent via qBittorrent)\\nCheck partition type (Disk Management)\\nEnabled Virtualization in BIOS (VT-x/AMD-V)\\nDisabled Secure Boot\\nSet Boot Mode to UEFI or Legacy\\nCreated bootable USB with Rufus\\nBooted from USB (F12 menu)\\nInstalled to internal SSD (âš ï¸ wipes all data)\\nSet timezone, root password, static IP\\nAccessed dashboard via https://:8006\\nSkipped Proxmox Enterprise repo (no-subscription fix)\\nUpdated Proxmox system \\u0026 rebooted\\nğŸ› ï¸ Step 1: Download Proxmox ISO\\rOfficial Proxmox website â€” downloading version 8.4.1 via torrent for faster installation\\rI started by downloading the latest Proxmox VE ISO from the official site. But the direct download speed was honestly painful. Instead, I grabbed the torrent version and used qBittorrent â€” much faster, much smoother. Make sure to grab the latest stable release. This ISO is what youâ€™ll flash to your USB to install Proxmox.\\nğŸ› ï¸ Step 2: Check Disk Partition Style (Windows \\u0026amp; Linux)\\rBefore installing Proxmox, it\\u0026rsquo;s important to know whether your disk is using MBR or GPT partitioning. This determines whether you should boot your installer in UEFI or Legacy BIOS mode.\\nğŸ’» On Windows:\\rPress Win + X â†’ Open Disk Management Right-click your main disk â†’ Properties â†’ Volumes Check the Partition Style â€” it will say GPT or MBR ğŸ§ On Linux:\\rOpen a terminal and run:\\nsudo parted -l Look for a line like:\\nPartition Table: gpt or:\\nPartition Table: msdos ğŸ”¹ gpt â†’ use UEFI boot\\nğŸ”¹ msdos â†’ use Legacy boot\\nKnowing this helps avoid boot issues during install. I personally double-checked mine before flashing Proxmox so I could set the right boot mode in BIOS.\\nğŸ› ï¸ Step 3: BIOS Configuration\\rBefore flashing Proxmox, I rebooted into the BIOS setup by pressing F1 (or DEL, varies by laptop).\\nHereâ€™s what I enabled or changed:\\nâœ… Enabled Virtualization (VT-x / AMD-V) âœ… Disabled Secure Boot âœ… Set Boot Mode to UEFI or Legacy based on disk style Without these changes, Proxmox might not boot properly or your VMs wonâ€™t run.\\nğŸ› ï¸ Step 4: Create Bootable USB\\rRufus settings used to flash proxmox-ve_8.4-1.iso to USB using GPT and UEFI (non CSM)\\râš ï¸ Starting this will erase all data on the selected USB drive.\\rI used Rufus to create a bootable USB stick using the Proxmox ISO.\\nSteps:\\nPlug in an 8GB+ USB drive Open Rufus â†’ Select ISO file Use the correct partition scheme (MBR or GPT depending on your BIOS mode) Flash! Once done, I used the F12 boot menu on my ThinkPad to boot from the USB.\\nğŸ› ï¸ Step 5: Install Proxmox to SSD\\rBooted from USB â€” Proxmox VE 8.4 installer showing options for graphical or terminal-based setup\\rI selected my internal SSD as the install target â€” and yes, âš ï¸ this erased everything on it.\\nThen I set:\\nTimezone Root password (don\\u0026rsquo;t forget this!) Static IP address Once complete, it rebooted and showed me a message to access Proxmox via:\\nhttps://\\u0026lt;your-ip\\u0026gt;:8006 Ignore the SSL warning and continue â€” youâ€™ll land on the Proxmox dashboard.\\nFirst login into Proxmox Web UI â€” accessed the root shell to update packages and configure networking\\rğŸ› ï¸ Step 6: Post-Install Cleanup\\rRight after logging into the dashboard:\\nI removed the default enterprise repo to avoid subscription nags Added the no-subscription repo Ran a full system update from the shell using: apt update \\u0026amp;\\u0026amp; apt full-upgrade -y reboot After reboot, my system was clean, updated, and ready to spin up VMs ğŸ”¥\\nğŸ› ï¸ Fix Proxmox Repo Error After Fresh Installation\\rAfter running apt update right after installing Proxmox VE, you might see this error:\\nE: Failed to fetch https://enterprise.proxmox.com/... 401 Unauthorized ğŸ¤” Why This Happens\\rProxmox by default enables the Enterprise Repository, which is meant for users with a paid subscription. If youâ€™re using Proxmox for personal or homelab use (without a subscription), youâ€™ll need to switch to the No-Subscription Repository.\\nâœ… Fix: Use No-Subscription Repository\\rsed -i \\u0026#39;s/^deb/#deb/g\\u0026#39; /etc/apt/sources.list.d/pve-enterprise.list echo \\u0026#34;deb http://download.proxmox.com/debian/pve bookworm pve-no-subscription\\u0026#34; \\u0026gt; /etc/apt/sources.list.d/pve-no-subscription.list apt update \\u0026amp;\\u0026amp; apt full-upgrade -y ğŸ§¹ Optional: Disable Ceph Enterprise Repo\\rWhy disable the Ceph Enterprise repo? Because you\\u0026rsquo;re not using it, and it needs a paid plan. If you leave it on, you\\u0026rsquo;ll get errors when updating. So turning it off just avoids useless problems. âœ…\\nnano /etc/apt/sources.list.d/ceph.list # Comment out: #deb https://enterprise.proxmox.com/debian/ceph-quincy bookworm enterprise ğŸ’¾ Reclaim Full Internal SSD for VM Storage\\rBy default, Proxmox splits your SSD into two parts â€” one for the system and one for VMs. But if you\\u0026rsquo;re using an external SSD for VMs, the internal oneâ€™s VM space is just sitting there, wasted. ğŸ˜¬ So we delete that extra part and give all the space to the system â€” simple and clean. âœ…\\nlvremove /dev/pve/data lvresize -l +100%FREE /dev/pve/root resize2fs /dev/mapper/pve-root ğŸ”Œ Connect \\u0026amp; Configure External SSD for VM Storage\\rWhy I did this:\\nTo save space on my internal SSD and keep things organized. Instead of putting VMs, backups, and ISOs on the main drive, i moved them to an external SSD.\\nâœ… Keeps the system clean âœ… Gives more storage for VMs âœ… Easier to manage everything In short: I used the external SSD to handle the big stuff, so my main drive doesnâ€™t get full or messy.\\nFormat \\u0026amp; Mount:\\rmkfs.ext4 /dev/sdb mkdir /mnt/externalssd mount /dev/sdb /mnt/externalssd blkid /dev/sdb # Get UUID nano /etc/fstab # Add: UUID=xxxx /mnt/externalssd ext4 defaults 0 0 Add to Proxmox GUI:\\rDatacenter â†’ Storage â†’ Add â†’ Directory Optional: LVM-Thin on External SSD\\rIt helps you save space and create copies of VMs faster.\\nNormally, if you make 3 copies of a 20GB VM, it uses 60GB. With LVM-Thin, the copies share space â€” like magic âœ¨ â€” so it uses much less.\\nâœ… Good if you make/test lots of VMs âœ… Makes cloning and snapshots faster and lighter In short: Youâ€™d set this up if you want to do more with less space. If not doing that, you can skip it ğŸ™‚\\nwipefs -a /dev/sdb pvcreate /dev/sdb vgcreate external-vg /dev/sdb lvcreate -l 100%FREE -T external-vg/external-thin Add it via GUI as LVM-Thin.\\nğŸ˜´ Prevent Sleep on Lid Close\\rI guess u get y this one is for ğŸ™ƒ\\nnano /etc/systemd/logind.conf # Change: HandleLidSwitch=ignore systemctl restart systemd-logind ğŸ§¯ Fix for Console Error\\rTASK ERROR: command \\u0026#39;/usr/bin/termproxy ...\\u0026#39; failed: exit code 1 systemctl restart pveproxy ğŸ¯ Final Recap\\râœ… Installed and updated Proxmox VE\\nâœ… Fixed repository issues\\nâœ… Merged internal SSD partitions\\nâœ… Mounted external SSD\\nâœ… Enabled LVM-Thin if needed\\nâœ… Prevented sleep on lid close\\nâœ… Fixed console terminal issue\\nğŸ™ Thank You!\\rAppreciate you making it this far ğŸ˜„\\nI\\u0026rsquo;ll be adding more homelab projects and things I built on top of this soon â€” from cybersecurity labs to automation setups.\\nThis is just the start ğŸ’»âœ¨\\n\"",
      "wordCount":  1606 ,
      "inLanguage": "en",
      "datePublished": "2025-07-06T09:31:03\u002b05:30",
      "dateModified": "2025-07-06T09:31:03\u002b05:30",
      "author": {
        "@type": "Person",
        "name": "Koustubha Naik",
        "url": ""
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http:\/\/localhost:1313\/projects\/proxmox-thinkpad-homelab\/"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Z3KAIx0",
        "logo": {
          "@type": "ImageObject",
          "url": "http:\/\/localhost:1313\/images\/favicon.ico"
        }
      }
    }
    </script>
<title>Proxmox VE Homelab Setup on Lenovo ThinkPad</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as="style" media="screen" href="http://localhost:1313/css/style.min.65788784967ef394e528967eed8c63658368c6c4d417053ce77fd6c5ba25d364.css" integrity="sha256-ZXiHhJZ+85TlKJZ+7YxjZYNoxsTUFwU853/Wxbol02Q=" crossorigin="anonymous"></head>
<body id="page">



<link rel="stylesheet" href="/css/single.min.885b60fe85e069c266d0d533a021bf50756155b9a35fc3c6bf7b583b04acd552.css">



<main class="section-inner single-post">

  
  <nav class="top-nav">
    <a href="/">ğŸ¡ Home</a>
    <a href="/posts/">ğŸ“˜ Blog</a>
    <a href="/notes/">ğŸ“ƒ Cheat-sheet</a>
    <a href="/projects/">ğŸ› ï¸ Projects</a>
    <a href="/about/">ğŸ—¿ About</a>
  </nav>

  <article class="content-article">

    
    <div class="share-buttons">
      <p>ğŸ”— Share this post:</p>
      <a href="https://twitter.com/intent/tweet?url=http%3a%2f%2flocalhost%3a1313%2fprojects%2fproxmox-thinkpad-homelab%2f&text=Proxmox%20VE%20Homelab%20Setup%20on%20Lenovo%20ThinkPad" target="_blank">ğŸ¦ Twitter</a>
      <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3a%2f%2flocalhost%3a1313%2fprojects%2fproxmox-thinkpad-homelab%2f" target="_blank">ğŸ”— LinkedIn</a>
      <button onclick="copyLink()">ğŸ“‹ Copy Link</button>
    </div>

    <script>
      function copyLink() {
        navigator.clipboard.writeText(window.location.href);
        alert("Link copied to clipboard!");
      }
    </script>

    
    <header class="post-header">
      <h1 class="post-title">Proxmox VE Homelab Setup on Lenovo ThinkPad</h1>
      <p>
        
          <span class="post-date">ğŸ“… Jul 6, 2025</span>
        
        <span class="reading-time">â±ï¸ 8 min read</span>
        <span class="view-count">ğŸ‘ï¸ Views: <span id="page-views">...</span></span>
      </p>

      
      <div class="author-box">
        <img src="/images/profile.jpg" alt="Author profile photo">
        <div>
          <strong>Koustubha Naik</strong><br>
          Cybersecurity Enthusiast â€¢ Homelabber â€¢ Blogger
        </div>
      </div>
    </header>

    
    

    
    <div class="post-body">
      <hr>
<p>Why I Chose the ThinkPad T480
So, why the T480 out of all laptops?</p>
<p>ğŸ›¡ï¸ Built like a tank â€“ It&rsquo;s a business-grade machine that can handle long runtimes and daily abuse.</p>
<p>ğŸ§  Decent power â€“ The i7-8650U isnâ€™t a beast, but itâ€™s efficient and powerful enough for multiple VMs and containers.</p>
<p>ğŸ’¸ Affordable &amp; available â€“ You can grab one for cheap these days on OLX or refurb sites.</p>
<p>ğŸ”§ Upgradeable â€“ Dual RAM slots (mineâ€™s upgraded to 32 GB), replaceable battery, easy SSD swap.</p>
<p>ğŸ§Š Runs cool with proper cooling â€“ Especially with an external fan underneath.</p>
<p>Basically, it hits the sweet spot between power, price, and portability â€” which made it perfect for a budget-friendly homelab project. Alsoâ€¦ I already had it lying around ğŸ˜…</p>
<hr>
<p>This is a full step-by-step breakdown of how I turned my ThinkPad T480 into a powerful, self-hosted Proxmox lab â€” built for running virtual machines, experimenting with containers, testing tools, and learning hands-on. I didnâ€™t use any flashy hardware or expensive server parts â€” just a solid old laptop, some patience, and a lot of curiosity. Along the way, I dealt with storage quirks, backup setups, and performance tuning to make sure everything ran smoothly. I hit a few bumps, broke a few things, fixed them, and ended up with a clean, stable homelab that I use daily. Here&rsquo;s how it all went down ğŸ‘‡</p>
<hr>
<p>ğŸ’» <strong>PC Specs â€” Lenovo ThinkPad T480</strong></p>
<div style="text-align: center; margin: 2rem 0;">
  <img src="/posts/Projects/Projects_1/setup.jpg" alt="Lenovo ThinkPad T480 running Proxmox lab with external SSD" style="width:500px; max-width:100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
  <p style="font-size: 0.9rem; color: var(--text); margin-top: 0.5rem;">
    My ThinkPad T480 lab setup â€” running Proxmox, connected to Ethernet, with an external SSD
  </p>
</div>
<p>The entire setup runs on my trusty <strong>Lenovo ThinkPad T480</strong>, a no-nonsense business laptop that has become a favorite in the homelab community. It&rsquo;s compact, reliable, and surprisingly powerful for its age.</p>
<p>Under the hood, it packs an <strong>Core i7-8650U processor</strong>, which provides solid multi-core performance â€” more than enough for running multiple VMs and containers without major slowdowns. Iâ€™ve upgraded the RAM to a generous <strong>32 GB</strong>, giving Proxmox the breathing room it needs to handle several virtual environments simultaneously.</p>
<p>For storage, Iâ€™m running a dual-drive setup:</p>
<ul>
<li>A <strong>256 GB internal SSD</strong> for Proxmox and core system files (will upgrade it for later)</li>
<li>A <strong>256 GB external SSD</strong> connected via USB 3.0, which I use for VM storage, ISO templates, and backups</li>
</ul>
<p>Despite being a laptop, this combo gives me excellent flexibility and speed. No fancy RAID or NVMe setup here â€” just well-optimized basics that get the job done.</p>
<p>I kept my ThinkPad plugged in at all times and made sure it was slightly propped up to help airflow. But I didnâ€™t stop there â€” I also connected an external <strong>laptop cooling fan</strong> underneath. Trust me, once you start spinning up multiple VMs or running Docker containers, things heat up fast. A little cooling goes a long way in avoiding thermal throttling right in the middle of your hacking experiments or system updates.</p>
<hr>
<div class="checklist">
  <h3>âœ… Proxmox VE Installation </h3>
  <label><input type="checkbox"> Download Proxmox ISO (used torrent via qBittorrent)</label><br>
  <label><input type="checkbox"> Check partition type (Disk Management)</label><br>
  <label><input type="checkbox"> Enabled Virtualization in BIOS (VT-x/AMD-V)</label><br>
  <label><input type="checkbox"> Disabled Secure Boot</label><br>
  <label><input type="checkbox"> Set Boot Mode to UEFI or Legacy</label><br>
  <label><input type="checkbox"> Created bootable USB with Rufus</label><br>
  <label><input type="checkbox"> Booted from USB (F12 menu)</label><br>
  <label><input type="checkbox"> Installed to internal SSD (âš ï¸ wipes all data)</label><br>
  <label><input type="checkbox"> Set timezone, root password, static IP</label><br>
  <label><input type="checkbox"> Accessed dashboard via https://:8006</label><br>
  <label><input type="checkbox"> Skipped Proxmox Enterprise repo (no-subscription fix)</label><br>
  <label><input type="checkbox"> Updated Proxmox system & rebooted</label><br>
</div>
<hr>
<h2 id="-step-1-download-proxmox-iso">ğŸ› ï¸ Step 1: Download Proxmox ISO</h2>
 <div style="text-align: center; margin: 2rem 0;">
  <img src="/posts/Projects/Projects_1/website.png" alt="Proxmox VE ISO Download Page showing version 8.4.1" style="width:800px; max-width:100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
  <p style="font-size: 0.9rem; color: var(--text); margin-top: 0.5rem;">
    Official Proxmox website â€” downloading version 8.4.1 via torrent for faster installation
  </p>
</div>
<p>I started by downloading the latest <strong>Proxmox VE ISO</strong> from the <a href="https://www.proxmox.com/en/downloads">official site</a>. But the direct download speed was honestly painful. Instead, I grabbed the <strong>torrent version</strong> and used <strong>qBittorrent</strong> â€” much faster, much smoother. Make sure to grab the latest stable release. This ISO is what youâ€™ll flash to your USB to install Proxmox.</p>
<h2 id="-step-2-check-disk-partition-style-windows--linux">ğŸ› ï¸ Step 2: Check Disk Partition Style (Windows &amp; Linux)</h2>
<p>Before installing Proxmox, it&rsquo;s important to know whether your disk is using <strong>MBR or GPT partitioning</strong>. This determines whether you should boot your installer in <strong>UEFI</strong> or <strong>Legacy BIOS</strong> mode.</p>
<h3 id="-on-windows">ğŸ’» On Windows:</h3>
<ul>
<li>Press <code>Win + X</code> â†’ Open <strong>Disk Management</strong></li>
<li>Right-click your main disk â†’ <strong>Properties</strong> â†’ <strong>Volumes</strong></li>
<li>Check the <strong>Partition Style</strong> â€” it will say <strong>GPT</strong> or <strong>MBR</strong></li>
</ul>
<h3 id="-on-linux">ğŸ§ On Linux:</h3>
<p>Open a terminal and run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo parted -l
</span></span></code></pre></div><p>Look for a line like:</p>
<pre tabindex="0"><code>Partition Table: gpt
</code></pre><p>or:</p>
<pre tabindex="0"><code>Partition Table: msdos
</code></pre><blockquote>
<p>ğŸ”¹ <code>gpt</code> â†’ use <strong>UEFI boot</strong><br>
ğŸ”¹ <code>msdos</code> â†’ use <strong>Legacy boot</strong></p></blockquote>
<p>Knowing this helps avoid boot issues during install. I personally double-checked mine before flashing Proxmox so I could set the right boot mode in BIOS.</p>
<hr>
<h2 id="-step-3-bios-configuration">ğŸ› ï¸ Step 3: BIOS Configuration</h2>
<p>Before flashing Proxmox, I rebooted into the <strong>BIOS setup</strong> by pressing <code>F1</code> (or <code>DEL</code>, varies by laptop).</p>
<p>Hereâ€™s what I enabled or changed:</p>
<ul>
<li>âœ… <strong>Enabled Virtualization (VT-x / AMD-V)</strong></li>
<li>âœ… <strong>Disabled Secure Boot</strong></li>
<li>âœ… Set Boot Mode to <strong>UEFI or Legacy</strong> based on disk style</li>
</ul>
<p>Without these changes, Proxmox might not boot properly or your VMs wonâ€™t run.</p>
<hr>
<h2 id="-step-4-create-bootable-usb">ğŸ› ï¸ Step 4: Create Bootable USB</h2>
<div style="text-align: center; margin: 2rem 0;">
  <img src="/posts/Projects/Projects_1/Rufus.png" alt="Rufus configuration for flashing Proxmox ISO to USB" style="width:500px; max-width:100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
  <p style="font-size: 0.9rem; color: var(--text); margin-top: 0.5rem;">
    Rufus settings used to flash <code>proxmox-ve_8.4-1.iso</code> to USB using GPT and UEFI (non CSM)
  </p>
  <p style="font-size: 0.85rem; color: #f87171; margin-top: 0.3rem;">
    âš ï¸ Starting this will erase all data on the selected USB drive.
  </p>
</div>
<p>I used <strong>Rufus</strong> to create a bootable USB stick using the Proxmox ISO.</p>
<p>Steps:</p>
<ul>
<li>Plug in an 8GB+ USB drive</li>
<li>Open Rufus â†’ Select ISO file</li>
<li>Use the correct partition scheme (MBR or GPT depending on your BIOS mode)</li>
<li>Flash!</li>
</ul>
<p>Once done, I used the <strong>F12 boot menu</strong> on my ThinkPad to boot from the USB.</p>
<hr>
<h2 id="-step-5-install-proxmox-to-ssd">ğŸ› ï¸ Step 5: Install Proxmox to SSD</h2>
<div style="text-align: center; margin: 2rem 0;">
  <img src="/posts/Projects/Projects_1/proxmox_install.png" alt="Proxmox VE installer boot menu showing installation options" style="width:600px; max-width:100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
  <p style="font-size: 0.9rem; color: var(--text); margin-top: 0.5rem;">
    Booted from USB â€” Proxmox VE 8.4 installer showing options for graphical or terminal-based setup
  </p>
</div>
<p>I selected my <strong>internal SSD</strong> as the install target â€” and yes, âš ï¸ this erased everything on it.</p>
<p>Then I set:</p>
<ul>
<li>Timezone</li>
<li>Root password (don&rsquo;t forget this!)</li>
<li>Static IP address</li>
</ul>
<p>Once complete, it rebooted and showed me a message to access Proxmox via:</p>
<pre tabindex="0"><code>https://&lt;your-ip&gt;:8006
</code></pre><p>Ignore the SSL warning and continue â€” youâ€™ll land on the Proxmox dashboard.</p>
<div style="text-align: center; margin: 2rem 0;">
  <img src="/posts/Projects/Projects_1/login.png" alt="Proxmox VE web interface showing terminal shell access after login" style="width:800px; max-width:100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
  <p style="font-size: 0.9rem; color: var(--text); margin-top: 0.5rem;">
    First login into Proxmox Web UI â€” accessed the root shell to update packages and configure networking
  </p>
</div>
<hr>
<h2 id="-step-6-post-install-cleanup">ğŸ› ï¸ Step 6: Post-Install Cleanup</h2>
<p>Right after logging into the dashboard:</p>
<ul>
<li>I removed the default <strong>enterprise repo</strong> to avoid subscription nags</li>
<li>Added the <strong>no-subscription repo</strong></li>
<li>Ran a full system update from the <strong>shell</strong> using:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt update <span style="color:#f92672">&amp;&amp;</span> apt full-upgrade -y
</span></span><span style="display:flex;"><span>reboot
</span></span></code></pre></div><p>After reboot, my system was clean, updated, and ready to spin up VMs ğŸ”¥</p>
<hr>
<h1 id="-fix-proxmox-repo-error-after-fresh-installation">ğŸ› ï¸ Fix Proxmox Repo Error After Fresh Installation</h1>
<p>After running <code>apt update</code> right after installing Proxmox VE, you might see this error:</p>
<pre tabindex="0"><code>E: Failed to fetch https://enterprise.proxmox.com/... 401 Unauthorized
</code></pre><h2 id="-why-this-happens">ğŸ¤” Why This Happens</h2>
<p>Proxmox by default enables the <strong>Enterprise Repository</strong>, which is meant for users with a paid subscription. If youâ€™re using Proxmox for personal or homelab use (without a subscription), youâ€™ll need to switch to the <strong>No-Subscription Repository</strong>.</p>
<h2 id="-fix-use-no-subscription-repository">âœ… Fix: Use No-Subscription Repository</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sed -i <span style="color:#e6db74">&#39;s/^deb/#deb/g&#39;</span> /etc/apt/sources.list.d/pve-enterprise.list
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;deb http://download.proxmox.com/debian/pve bookworm pve-no-subscription&#34;</span> &gt; /etc/apt/sources.list.d/pve-no-subscription.list
</span></span><span style="display:flex;"><span>apt update <span style="color:#f92672">&amp;&amp;</span> apt full-upgrade -y
</span></span></code></pre></div><hr>
<h2 id="-optional-disable-ceph-enterprise-repo">ğŸ§¹ Optional: Disable Ceph Enterprise Repo</h2>
<p>Why disable the Ceph Enterprise repo?
Because you&rsquo;re not using it, and it needs a paid plan. If you leave it on, you&rsquo;ll get errors when updating.
So turning it off just avoids useless problems. âœ…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano /etc/apt/sources.list.d/ceph.list
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Comment out:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#deb https://enterprise.proxmox.com/debian/ceph-quincy bookworm enterprise</span>
</span></span></code></pre></div><hr>
<h2 id="-reclaim-full-internal-ssd-for-vm-storage">ğŸ’¾ Reclaim Full Internal SSD for VM Storage</h2>
<p>By default, Proxmox splits your SSD into two parts â€” one for the system and one for VMs.
But if you&rsquo;re using an external SSD for VMs, the internal oneâ€™s VM space is just sitting there, wasted. ğŸ˜¬
So we delete that extra part and give all the space to the system â€” simple and clean. âœ…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>lvremove /dev/pve/data
</span></span><span style="display:flex;"><span>lvresize -l +100%FREE /dev/pve/root
</span></span><span style="display:flex;"><span>resize2fs /dev/mapper/pve-root
</span></span></code></pre></div><hr>
<h2 id="-connect--configure-external-ssd-for-vm-storage">ğŸ”Œ Connect &amp; Configure External SSD for VM Storage</h2>
<p>Why I did this:</p>
<p>To save space on my internal SSD and keep things organized.
Instead of putting VMs, backups, and ISOs on the main drive, i moved them to an external SSD.</p>
<p>âœ… Keeps the system clean <br>
âœ… Gives more storage for VMs <br>
âœ… Easier to manage everything <br></p>
<p>In short: I used the external SSD to handle the big stuff, so my main drive doesnâ€™t get full or messy.</p>
<h3 id="format--mount">Format &amp; Mount:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.ext4 /dev/sdb
</span></span><span style="display:flex;"><span>mkdir /mnt/externalssd
</span></span><span style="display:flex;"><span>mount /dev/sdb /mnt/externalssd
</span></span><span style="display:flex;"><span>blkid /dev/sdb  <span style="color:#75715e"># Get UUID</span>
</span></span><span style="display:flex;"><span>nano /etc/fstab
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add:</span>
</span></span><span style="display:flex;"><span>UUID<span style="color:#f92672">=</span>xxxx /mnt/externalssd ext4 defaults <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><h3 id="add-to-proxmox-gui">Add to Proxmox GUI:</h3>
<ul>
<li>Datacenter â†’ Storage â†’ Add â†’ Directory</li>
</ul>
<hr>
<h3 id="optional-lvm-thin-on-external-ssd">Optional: LVM-Thin on External SSD</h3>
<p>It helps you save space and create copies of VMs faster.</p>
<p>Normally, if you make 3 copies of a 20GB VM, it uses 60GB.
With LVM-Thin, the copies share space â€” like magic âœ¨ â€” so it uses much less.</p>
<p>âœ… Good if you make/test lots of VMs <br>
âœ… Makes cloning and snapshots faster and lighter <br></p>
<p>In short:
Youâ€™d set this up if you want to do more with less space. If not doing that, you can skip it ğŸ™‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wipefs -a /dev/sdb
</span></span><span style="display:flex;"><span>pvcreate /dev/sdb
</span></span><span style="display:flex;"><span>vgcreate external-vg /dev/sdb
</span></span><span style="display:flex;"><span>lvcreate -l 100%FREE -T external-vg/external-thin
</span></span></code></pre></div><p>Add it via GUI as LVM-Thin.</p>
<hr>
<h2 id="-prevent-sleep-on-lid-close">ğŸ˜´ Prevent Sleep on Lid Close</h2>
<p>I guess u get y this one is for ğŸ™ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano /etc/systemd/logind.conf
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Change:</span>
</span></span><span style="display:flex;"><span>HandleLidSwitch<span style="color:#f92672">=</span>ignore
</span></span><span style="display:flex;"><span>systemctl restart systemd-logind
</span></span></code></pre></div><hr>
<h2 id="-fix-for-console-error">ğŸ§¯ Fix for Console Error</h2>
<pre tabindex="0"><code>TASK ERROR: command &#39;/usr/bin/termproxy ...&#39; failed: exit code 1
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>systemctl restart pveproxy
</span></span></code></pre></div><hr>
<h2 id="-final-recap">ğŸ¯ Final Recap</h2>
<p>âœ… Installed and updated Proxmox VE<br>
âœ… Fixed repository issues<br>
âœ… Merged internal SSD partitions<br>
âœ… Mounted external SSD<br>
âœ… Enabled LVM-Thin if needed<br>
âœ… Prevented sleep on lid close<br>
âœ… Fixed console terminal issue</p>
<hr>
<h2 id="-thank-you">ğŸ™ Thank You!</h2>
<p>Appreciate you making it this far ğŸ˜„<br>
I&rsquo;ll be adding more homelab projects and things I built on top of this soon â€” from cybersecurity labs to automation setups.<br>
This is just the start ğŸ’»âœ¨</p>

    </div>

    
    
      <div class="post-tags">
        ğŸ·ï¸ Tags:
        
          <a href="/tags/proxmox">#proxmox</a>
        
          <a href="/tags/homelab">#homelab</a>
        
          <a href="/tags/virtualization">#virtualization</a>
        
          <a href="/tags/thinkpad">#thinkpad</a>
        
          <a href="/tags/cybersecurity">#cybersecurity</a>
        
      </div>
    

    
    <nav class="post-nav">
      
      
    </nav>

    
    <script>
      fetch(`https://counterapi.dev/api/koustubha.com\/projects\/proxmox-thinkpad-homelab\/`)
        .then(res => res.json())
        .then(data => {
          document.getElementById("page-views").textContent = data.count;
        });
    </script>

    
    
      <div id="comments">
        
<script src="https://utteranc.es/client.js"
        repo="Koustubha-naik/website"
        issue-term="pathname"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script> 
    
      </div>
    

  </article>
</main>

<script async src="http://localhost:1313/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js" integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin="anonymous"></script>
</body>
</html>
